set(CMAKE_CXX_STANDARD 17)

set(SOUND_SOURCES
  989snd/player.cpp
  989snd/midi_handler.cpp
  989snd/ame_handler.cpp
  989snd/loader.cpp
  common/synth.cpp
  common/voice.cpp
  common/util.cpp
  common/envelope.cpp
  sndshim.cpp
  )

add_library(sound STATIC ${SOUND_SOURCES})
target_link_libraries(sound PRIVATE fmt cubeb)

add_executable(sndplay 989snd/sndplay.cpp)
target_link_libraries(sndplay PRIVATE sound cubeb)
